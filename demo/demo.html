<!DOCTYPE html>
<html>

<head>
  <title></title>
</head>

<body>
  <timer></timer>
  <script>
    var OptsAnimateMixin = {
      init: function() {
        var self = this

        this.on('mount', function() {
          console.log('mounted', this);

          this.root.addEventListener("animationstart", function() {
            console.log('dude the animation started');
          }, false);

          window.requestAnimationFrame(function() {
            self.root.classList.add('boo-ya-enter');
          });
          window.requestAnimationFrame(function() {
            self.root.classList.add('boo-ya-enter-active');
          });
        });

        this.on('unmount', function() {
          console.log('unmounted')
          window.requestAnimationFrame(function() {
            self.root.classList.add('boo-ya-leave');
          });
          window.requestAnimationFrame(function() {
            self.root.classList.add('boo-ya-leave-active');
          });
        });
      }
    };
  </script>
  <script type="riot/tag">
    <timer ranimate>

      <p>Seconds Elapsed: { time }</p>

      this.time = opts.start || 0 tick() { this.update({ time: ++this.time }) } var timer = setInterval(this.tick, 1000) this.on('unmount', function() { clearInterval(timer) }); setTimeout(function(){ this.unmount('timer'); }.bind(this),3000); this.mixin(OptsAnimateMixin);

    </timer>

  </script>
  <script src="../node_modules/riot/riot+compiler.js"></script>
  <script>
    riot.mount('timer', {
      start: 0
    });
  </script>
</body>

</html>
